---
title: PM2
date: 2019-02-13 23:00:38
tags: 
---
æœ¬æ–‡åªè®°å½•PM2çš„è¿è¡Œæ—¶ï¼Œéœ€è¦å…¶ä»–ç‰ˆæœ¬çš„å¯ç‚¹å‡»ä»¥ä¸‹é“¾æŽ¥ðŸ‘‡ðŸ‘‡ðŸ‘‡
å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼šhttps://pm2.io/doc/

# æ¦‚å¿µï¼š
PM2 Runtimeæ˜¯å…·æœ‰å†…ç½®Load Balancerçš„Node.jsåº”ç”¨ç¨‹åºçš„ç”Ÿäº§è¿‡ç¨‹ç®¡ç†å™¨ã€‚å®ƒå…è®¸æ‚¨æ°¸ä¹…ä¿æŒåº”ç”¨ç¨‹åºçš„æ´»åŠ¨ï¼Œæ— éœ€åœæœºå³å¯é‡æ–°åŠ è½½å®ƒä»¬ï¼Œå¹¶ä¿ƒè¿›å¸¸è§çš„Devopsä»»åŠ¡ã€‚

# å®‰è£…
è¯·è‡ªè¡Œå­¦ä¹ ï¼Œä½¿ç”¨æœç´¢å¼•æ“Žæˆ–ç‚¹å‡»é“¾æŽ¥ðŸ‘†ðŸ‘†ðŸ‘†

# å‘½ä»¤è¡Œå¤§èšé›†ï¼š(ä»¥ä¸‹.jså¯çœç•¥)

## å¸¸ç”¨çš„å‘½ä»¤è¡Œ
å¯åŠ¨åº”ç”¨ç¨‹åº
>` pm2 start app.js`

æ–‡ä»¶æ›´æ”¹æ—¶å¯åŠ¨å¹¶è‡ªåŠ¨é‡æ–°å¯åŠ¨é“¾æŽ¥
>`pm2 start app.js --watch [--ignore-watch /*/]`

åœæ­¢åº”ç”¨ç¨‹åº
>`pm2 stop app.js`

åœæ­¢å¹¶å¯åŠ¨ç¨‹åº 
>`pm2 restart app.js` 

å¯åŠ¨æ—¶å¯åŠ¨PM2
>` pm2 startup`

ä»¥é›†ç¾¤æ¨¡å¼å¯åŠ¨ï¼Œä½¿ç”¨-ié€‰é¡¹ 
>`pm2 start app.js -i 4` (4ä¸ºé›†ç¾¤æ•°é‡)
>`pm2 start app.js -i max`ï¼ˆmaxå¯ä»¥è‡ªåŠ¨æ£€æµ‹å¯ç”¨çš„CPUæ•°é‡ï¼‰

å±•ç¤ºpm2çš„åˆ—è¡¨ 
>`pm2 ls`

å±•ç¤ºæ—¥å¿—
>`pm2 logs`

ç›‘æŽ§
>`pm2 monit`

ä»Žåˆ—è¡¨ä¸­åœæ­¢å¹¶åˆ é™¤ä¸€ä¸ªè¿›ç¨‹ 
>`pm2 detele app`

## ä¸å¸¸ç”¨

ä½¿ç”¨é‡æ–°åŠ è½½è€Œä¸æ˜¯é‡æ–°å¯åŠ¨0ç§’åœæœºæ—¶é—´é‡æ–°åŠ è½½
>`pm2 reload app`

é‡ç½®é‡å¯è®¡æ•°å™¨
>`pm2 reset all`


æœªå®Œå¾…ç»­Â·Â·Â·Â·Â·Â·